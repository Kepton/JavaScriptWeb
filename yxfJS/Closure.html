<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Closure</title>
    <script>
        function lazy_sum(arr) {
            var sum = function () {
                return arr.reduce(function (x, y) {
                    return x + y;
                });
            }
            return sum;
        }

        var f = lazy_sum([1, 2, 3, 4, 5]);



        function count() {
            var arr = [];
            for (var i = 1; i <= 3; i++) {
                arr.push(function () {
                    return i * i;
                });
            }
            return arr;
        }

        function count() {
            var arr = [];
            for (var i = 1; i <= 3; i++) {
                arr.push((function (n) {
                    return function () {
                        return n * n;
                    }
                })(i));
            }
            return arr;
        }



        var results = count();
        var f1 = results[0];
        var f2 = results[1];
        var f3 = results[2];

        //alert(f1()); // 1
        //alert(f2()); // 4
        //alert(f3()); // 9




        function create_counter(initial) {
            var x = initial || 0;
            return {
                inc: function () {
                    x += 1;
                    alert(x);
                    return x;
                }
            }
        }

        var c1 = create_counter();
        c1.inc(); // 1
        c1.inc(); // 2
        c1.inc(); // 3

        var c2 = create_counter(10);
        c2.inc(); // 11
        c2.inc(); // 12
        c2.inc(); // 13


    </script>
</head>
<body>

</body>
</html>
